<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>L∆ØU CH·ªÆ</title>
<style>
body{margin:0;background:#111;color:white;font-family:Arial}
.top-bar{height:120px;display:flex;align-items:center;justify-content:center;position:relative}
.rainbow{font-size:48px;font-weight:bold;animation:rb 2s linear infinite}
@keyframes rb{0%{color:red}14%{color:orange}28%{color:yellow}42%{color:green}57%{color:cyan}71%{color:blue}85%{color:violet}100%{color:red}}
.star{position:absolute;right:15px;top:15px;width:50px;height:50px;background:red;border-radius:50%;display:flex;align-items:center;justify-content:center;color:yellow;font-size:26px}
.line{width:80%;height:2px;background:black;margin:10px auto}

.folders{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}
.folder{text-align:center;cursor:pointer}
.folder i{font-size:40px;color:#00ff66}
.folder span{animation:rb 2s linear infinite;font-size:14px}
.add-folder{font-size:45px;color:white}

.overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);align-items:center;justify-content:center}
.code-box{background:#222;padding:20px;border-radius:10px;text-align:center;width:260px}
.code-box input{width:100%;padding:8px;margin-top:10px;text-align:center}
.loader{width:40px;height:40px;border:4px solid #555;border-top:4px solid white;border-radius:50%;animation:spin 1s linear infinite;display:none;margin:10px auto}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

.inside{display:none;padding:10px}
.top-upload{display:flex;align-items:center;gap:10px;position:relative}
.add-btn{font-size:30px;cursor:pointer}
.more-btn{font-size:26px;cursor:pointer}
.menu{position:absolute;top:35px;right:0;background:#222;border:1px solid #444;display:none}
.menu button{background:none;border:none;color:white;padding:6px 10px;width:100%;text-align:left}
.menu button:hover{background:#333}

.bulk{display:none;margin-top:8px;gap:10px}
.bulk button{background:#333;color:white;border:none;padding:5px 10px}

.grid{display:grid;grid-template-columns:repeat(10,1fr);gap:6px;margin-top:10px}
.item{background:#000;padding:3px;position:relative}
.item img,.item video{width:100%;display:block}
.check{position:absolute;top:3px;left:3px}
.tools{display:flex;justify-content:space-between;margin-top:3px}
.tools button{background:#333;color:white;border:none;padding:2px 6px;font-size:12px}
.back-btn{margin-top:10px;padding:6px 12px;background:gray;border:none;color:white}

.full{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:black;align-items:center;justify-content:center;z-index:9}
.full img,.full video{max-width:100%;max-height:100%}
</style>
</head>
<body>

<div class="top-bar">
  <div class="rainbow">C∆Ø·ªúNG SO√ÅI</div>
  <div class="star">‚òÖ</div>
</div>
<div class="line"></div>

<div class="folders" id="folderArea">
  <div class="folder" onclick="openFolder()"><i>üìÅ</i><br><span>Th∆∞ m·ª•c 1</span></div>
  <div class="folder" onclick="openFolder()"><i>üìÅ</i><br><span>Th∆∞ m·ª•c 2</span></div>
  <div class="folder" onclick="openFolder()"><i>üìÅ</i><br><span>Th∆∞ m·ª•c 3</span></div>
  <div class="folder" onclick="openFolder()"><i>üìÅ</i><br><span>Th∆∞ m·ª•c 4</span></div>
  <div class="folder" onclick="openFolder()"><i>üìÅ</i><br><span>Th∆∞ m·ª•c 5</span></div>
  <div class="folder" onclick="addNewFolder()">
    <div class="add-folder">Ôºã</div>
    <span>Th√™m</span>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="code-box">
    <div>Nh·∫≠p m√£</div>
    <input type="password" id="codeInput">
    <button onclick="checkCode()">X√°c nh·∫≠n</button>
    <div id="result"></div>
    <div class="loader" id="loader"></div>
  </div>
</div>

<div class="inside" id="inside">
  <div class="top-upload">
    <div class="add-btn" onclick="fileInput.click()">Ôºã</div>
    <div class="more-btn" onclick="toggleMenu()">‚ãÆ</div>
    <div class="menu" id="menu">
      <button onclick="enableSelect()">ƒê√°nh d·∫•u</button>
    </div>
    <input type="file" id="fileInput" hidden multiple accept="image/*,video/*" onchange="addFiles(this.files)">
  </div>

  <div class="bulk" id="bulkBar">
    <button onclick="deleteSelected()">Xo√° ƒë√£ ch·ªçn</button>
    <button onclick="downloadSelected()">T·∫£i ƒë√£ ch·ªçn</button>
    <button onclick="disableSelect()">B·ªè ƒë√°nh d·∫•u</button>
  </div>

  <div class="grid" id="grid"></div>
  <button class="back-btn" onclick="goBack()">Quay l·∫°i</button>
</div>

<div class="full" id="full" onclick="this.style.display='none'"></div>

<script>
const TRUE_CODE="1234567891234556789"
let selectMode=false

function openFolder(){
  overlay.style.display="flex"
  codeInput.value=""
  result.innerText=""
  loader.style.display="none"
}
function checkCode(){
  if(codeInput.value===TRUE_CODE){
    result.innerText="ƒê√∫ng!"
    result.style.color="lime"
    loader.style.display="block"
    setTimeout(()=>{
      overlay.style.display="none"
      folderArea.style.display="none"
      inside.style.display="block"
      loader.style.display="none"
    },3000)
  }else{
    result.innerText="Sai m√£!"
    result.style.color="red"
  }
}
function goBack(){
  inside.style.display="none"
  folderArea.style.display="flex"
}

function toggleMenu(){
  menu.style.display = menu.style.display=="block"?"none":"block"
}
function enableSelect(){
  selectMode=true
  bulkBar.style.display="flex"
  document.querySelectorAll(".item").forEach(i=>{
    let c=document.createElement("input")
    c.type="checkbox"
    c.className="check"
    i.append(c)
  })
  menu.style.display="none"
}
function disableSelect(){
  selectMode=false
  bulkBar.style.display="none"
  document.querySelectorAll(".check").forEach(c=>c.remove())
}

function addFiles(files){
  for(let f of files){
    let box=document.createElement("div")
    box.className="item"
    let media
    if(f.type.startsWith("image")){
      media=document.createElement("img")
    }else{
      media=document.createElement("video")
      media.controls=true
    }
    media.src=URL.createObjectURL(f)
    media.onclick=()=>{ if(!selectMode) showFull(media.cloneNode(true)) }

    let tools=document.createElement("div")
    tools.className="tools"
    let del=document.createElement("button")
    del.innerText="Xo√°"
    del.onclick=()=>box.remove()
    let down=document.createElement("button")
    down.innerText="T·∫£i"
    down.onclick=()=>{
      let a=document.createElement("a")
      a.href=media.src
      a.download="file"
      a.click()
    }
    tools.append(del,down)
    box.append(media,tools)
    grid.append(box)
  }
}

function deleteSelected(){
  document.querySelectorAll(".check:checked").forEach(c=>{
    c.parentElement.remove()
  })
}
function downloadSelected(){
  document.querySelectorAll(".check:checked").forEach(c=>{
    let m=c.parentElement.querySelector("img,video")
    let a=document.createElement("a")
    a.href=m.src
    a.download="file"
    a.click()
  })
}

function showFull(el){
  full.innerHTML=""
  full.append(el)
  full.style.display="flex"
}
function addNewFolder(){
  let name=prompt("Nh·∫≠p t√™n th∆∞ m·ª•c m·ªõi:")
  if(!name) return
  let d=document.createElement("div")
  d.className="folder"
  d.onclick=openFolder
  d.innerHTML=`<i>üìÅ</i><br><span>${name}</span>`
  folderArea.insertBefore(d, folderArea.lastElementChild)
}
</script>
</body>
</html>
